# TIL (Today I Learned)

# 3월 12일 화요일

## 프로젝트 진행

- 메인 플로우 진행 중
    - 초기 텍스트 입력 후 백 엔드와 통신 시 SSE 활용 결정
    - SSE를 활용하기 위해 REDUX 활용 필수 

### 프로젝트 학습

- SSE란?
    - Server-Sent Events (SSE)
HTML5 표준 기술: SSE는 HTML5에서 도입된 기술로, 서버가 실시간으로 클라이언트에 데이터를 푸시(push)할 수 있게 해주는 방식
통신 방식: 단방향 통신으로, 서버에서 클라이언트로만 데이터를 전송 클라이언트는 서버로부터 데이터를 실시간으로 받을 수 있지만, SSE 연결을 통해 서버에 데이터를 보낼 수는 없음
연결 유지: SSE는 HTTP 연결을 열어 두고 서버에서 클라이언트로 데이터를 계속해서 스트리밍할 수 있음
    - SSE의 특성 상 REDUX를 활용하여 상태 관리를 해야함

- Redux란?
    - 애플리케이션의 전역 상태 관리를 위한 라이브러리, 대규모 애플리케이션에서 다수의 상태가 서로 복잡하게 상호작용 하는 경우에 유용
    - 아키텍처와 원칙: Redux는 devtools, 미들웨어를 통해 비동기 작업, 로깅 등을 쉽게 통합
    - Redux의 원활한 사용을 위해서 바인딩 라이브러리(React-Redux)가 필요
    - 비슷한 라이브러리로 Context API가 있음
        - 중소 규모 애플리케이션에 적합
        - 간결성과 직접성을 가짐
        - React 내장 기능으로 라이브러리 추가 필요 없음
        
### 예시 코드
``````
import axios from 'axios';

// 백엔드에서 부케 데이터를 요청하는 함수
const fetchBouquetData = async () => {
  try {
    const response = await axios.get('백엔드_서버_URL/bouquetData');
    return response.data; // 받아온 데이터 반환
  } catch (error) {
    console.error("데이터 요청 에러:", error);
  }
}
``````
```
useEffect(() => {
  const eventSource = new EventSource('백엔드_서버_URL/sse');

  eventSource.onmessage = (event) => {
    // 서버로부터 메시지를 받았을 때 처리 로직
    console.log("Received data:", event.data);
  };

  return () => {
    eventSource.close(); // 컴포넌트 언마운트 시 연결 종료
  };
}, []);

```
```
{
  isLoading ? <div>Loading...</div> : <img src={bouquetImageUrl} alt="Bouquet" />
}

```